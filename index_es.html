<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Inicio</title>

  <link rel="stylesheet" href="https://www.w3schools.com/w3css/5/w3.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">

  <style>
    body, h1 { font-family: "Raleway", sans-serif; }
    body, html { height: 100%; margin: 0; }

    .bgimg {
      background-image: url('foret2.jpg');
      min-height: 100%;
      background-position: center;
      background-size: cover;
    }

    .countdown-box {
      font-size: 1.5rem;
      font-weight: bold;
      margin-top: 30px;
      padding: 20px 40px;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0);
      display: inline-block;
      letter-spacing: 2px;
    }

    .invisible-btn {
      background: transparent !important;
      color: transparent !important;
      border: none !important;
      padding: 20px 40px;
      display: inline-block;
      cursor: pointer;
    }
  </style>
</head>

<body>

<div class="bgimg w3-display-container w3-animate-opacity w3-text-white">

  <div class="w3-display-topleft w3-padding-large w3-xlarge">
    LUCAS LARA PEYRIERE
  </div>

  <div class="w3-display-middle w3-center">
    <h1 id="title" class="w3-jumbo w3-animate-top">
      EL PORTAFOLIO LLEGA PRONTO
    </h1>

    <hr class="w3-border-grey" style="margin:auto;width:40%">

    <div id="countdown" class="countdown-box">
      Cargando...
    </div>

    <div id="loading-msg" class="countdown-box" style="display:none; margin-top:20px;">
      <!-- Mensaje de carga -->
    </div>

    <div id="skip-btn" style="margin-top:20px;">
      <a href="#" class="invisible-btn">Omitir y acceder al portfolio</a>
    </div>
  </div>
</div>

<script>
  // ---------- Redirección según idioma del navegador ----------
  const userLang = navigator.language || navigator.userLanguage; // ex: "fr-FR" o "es-ES"
  if (userLang.startsWith('es')) {
    window.location.href = "accueil_es.html"; // Esta página en español
  } else if (userLang.startsWith('fr')) {
    window.location.href = "accueil_fr.html"; // Página en francés
  }
  // Si no, permanece en esta página por defecto

  // ---------- Contador ----------
  const targetDate = new Date("2026-01-19 18:00:00").getTime();
  const countdownElement = document.getElementById("countdown");
  const titleElement = document.getElementById("title");

  const timer = setInterval(() => {
    const now = new Date().getTime();
    const distance = targetDate - now;

    if (distance <= 0) {
      clearInterval(timer);

      titleElement.innerHTML = "EL PORTFOLIO ESTÁ DISPONIBLE";
      countdownElement.style.display = "none";

      const loadingMsg = document.getElementById("loading-msg");
      loadingMsg.style.display = "block";
      loadingMsg.innerHTML = "Preparando la página...";

      const skipBtn = document.getElementById("skip-btn");
      skipBtn.style.display = "block";

      // Redirección después de 5 segundos hacia la versión española por defecto
      setTimeout(() => {
        // Redirección según el idioma del navegador
        if (userLang.startsWith('es')) {
          window.location.href = "accueil_es.html"; // Redirigir a la versión en español
        } else {
          window.location.href = "accueil_fr.html"; // Redirigir a la versión en francés
        }
      }, 5000);
      return;
    }

    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    countdownElement.innerHTML = `${days} d ${hours} h ${minutes} m ${seconds} s`;
  }, 1000);
</script>

</body>
</html>
